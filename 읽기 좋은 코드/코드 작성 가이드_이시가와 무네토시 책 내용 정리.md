# 1장 가독성 높은 코드를 작성하는 법
책에 언급된 대표적인 프로그래밍 원칙에 대해 정리한다.

**보이스카우트 원칙**
보이 스카우트에는 '캠프장을 사용한 후에는 사용하기 전보다 더 깨끗이 청소하고 떠나라'라는 규칙이 있다. 소프트웨어 개발에서도 코드를 변경할 때는 이전보다 더 나은 상태를 만들어야 한다는 원칙.

반대로 생각해보면 쉽다. 이 정도는 괜찮겠지 하고 조금씩 더러운 코드를 남기고 다니면 나중에는 악취나는 소스코드가 되어있다.

**YAGNI**
'그런 건 필요하지 않아'를 뜻하는 영문 약자. 불확실한 미래를 위해 현재 필요하지 않은 기능을 미리 구현해도 정작 사용되지 않는 경우가 많다는 의미.

아래는 YAGNI의 예시이다.

미래에 “다른 결제 수단이 생길 것”이라며 미리 인터페이스·팩토리·전략 패턴까지 만들어버림.

``` Java
// 불필요한 추상화
interface Payment {
    void pay(int amount);
}

class CreditCardPayment implements Payment {
    public void pay(int amount) {
        System.out.println("Paying with credit card: " + amount);
    }
}

class PaymentFactory {
    public static Payment getPayment(String type) {
        if ("CARD".equals(type)) {
            return new CreditCardPayment();
        }
        // 미래 확장을 위해 남겨둠 (사용 X)
        return null;
    }
}

public class OrderService {
    public void checkout(int amount) {
        Payment payment = PaymentFactory.getPayment("CARD");
        payment.pay(amount);
    }
}
```

현재 요구사항이 *“신용카드 결제만 지원하면 된다”*이면 아래처럼 작성해도 충분하다.
``` Java
public class OrderService {

    public void checkout(int amount) {
        System.out.println("Paying with credit card: " + amount);
    }
}
```

주의할 점은 YAGNI를 이유로 정작 필요한 과정까지 생략하는 일이 없도록 유의해야 한다.

**KISS**
KISS는 "Keep it simple stupid"의 약어로 '바보스러울 정도로 단순하게 만들어라'라는 의미를 담고 있다. 단순할수록 신규 기능을 쉽게 추가할 수 있다는 뜻이다.

내가 생각했을 때 Java에서는 과도한 Stream API 사용이 KISS 원칙에 위반된다고 생각한다. 그 예시는 아래와 같다.
``` Java
// KISS 위반 (Java와 Stream API에 능숙한 개발자만 이해 가능하다.)
int sum = numbers.stream()
                 .mapToInt(Integer::intValue)
                 .reduce(0, Integer::sum);

// KISS 준수 (Java를 모르는 개발자도 이해가 가능하다.)
int sum = 0;
for (int n : numbers) {
    sum += n;
}
```

# 2장 네이밍
## 단어 선택
### 모호하지 않은 단어 선택하기

#### flag
- flag가 참/거짓 값으로 사용될 경우에는 true와 false의 값이 각각 무엇을 나타내는지 모호하다.
- 참/거짓 값에 flag를 사용하고 싶을 때는 true 값이 무엇을 나타내는지 고려하여 네이밍하는 것이 좋다.

추가적으로
비트 플래그 대신 컬렉션으로 다루는 것이 좋다.
예들 들어 Spring Boot 애플리케이션에서 여러 개의 옵션을 하나의 정수 값(1, 2, 4, 8…)으로 조합해 사용하는 경우가 있다고 하자. 기능 A는 1, B는 2, C는 4처럼 비트 플래그로 저장해 두고, 설정 파일에서는 7 같은 숫자 하나로 여러 옵션을 표현할 수 있다.

하지만 코드 내부에서는 이 비트 플래그 값을 그대로 사용하는 대신 Set 형태로 변환해서 사용하는 것이 더 안전하고 유지보수에 유리하다.

``` Java
public enum FeatureOption {
    A(1),
    B(2),
    C(4),
    D(8),
    E(16);

    private final int flag;

    FeatureOption(int flag) {
        this.flag = flag;
    }

    public int getFlag() {
        return flag;
    }

    public static Set<FeatureOption> fromBitmask(int mask) {
        Set<FeatureOption> result = EnumSet.noneOf(FeatureOption.class);
        for (FeatureOption option : values()) {
            if ((mask & option.flag) != 0) {
                result.add(option);
            }
        }
        return result;
    }
}
```

#### check
- check는 무언가를 확인, 검사한다는 의미를 가지고 있지만, 함수 이름으로 사용하면 '확인하고자 하는 조건이 무엇인지', '조건이 맞지 않을 때 무엇을 할 것인지' 등 여러 의문이 발생한다.
- check를 대체하려면 먼저 수신 객체 또는 인수의 상태가 함수가 호출되기 전과 후에 어떻게 변하는지를 주목하는 것이 좋다.
	- ``checkMessage`` 라는 이름이 조건에 부합하는지 여부를 알려주기 위한 메서드라면 ``hasNewMessage``, ``isMessageFormatValid`` 로 바꿀 수 있다.

### 긍정적인 단어 사용하기
>최근 회사에서 ‘사용 가능 여부’를 반환하는 메서드를 만들었고 이름을 isUsable로 지었다.
그런데 이 메서드를 호출하는 대부분의 코드가 ‘사용 불가능한지’를 확인하고 있었다.
그래서 호출부에서 !를 쓰지 않아도 되도록 isUnusable 메서드를 추가했다.
하지만 코드 리뷰에서 “isUnusable은 직관적이지 않고, 이중 부정처럼 보여 오히려 헷갈린다”는 피드백을 받았다. 결국 isUnusable은 제거하고 isUsable만 사용하기로 결정했다.
> https://jojoldu.tistory.com/828

- enabled와 disabled 같이 긍정과 부정의 단어가 모두 존재한다면 긍정적인 단어를 사용하는 편이 가독성이 더 높일 수 있다.
- 특히 isNotDisabled와 같이 부정적인 단어와 부정어를 모두 사용하는 네이밍은 피애햐 한다.